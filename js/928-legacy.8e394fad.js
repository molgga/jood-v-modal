"use strict";(self["webpackChunkdev"]=self["webpackChunkdev"]||[]).push([[928],{3287:function(n,e,t){t.d(e,{Lc:function(){return c},w0:function(){return s},Nn:function(){return u}});var o=t(5163),r=t(9126),l=t(5589),a=(0,l.d)((function(n){return function(e){n(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(n,e){return e+1+") "+n.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}})),i=t(7990),s=function(){function n(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}return n.prototype.unsubscribe=function(){var n,e,t,l,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var c=(0,o.XA)(s),u=c.next();!u.done;u=c.next()){var f=u.value;f.remove(this)}}catch(b){n={error:b}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}else s.remove(this);var p=this.initialTeardown;if((0,r.m)(p))try{p()}catch(C){i=C instanceof a?C.errors:[C]}var v=this._teardowns;if(v){this._teardowns=null;try{for(var m=(0,o.XA)(v),y=m.next();!y.done;y=m.next()){var h=y.value;try{d(h)}catch(_){i=null!==i&&void 0!==i?i:[],_ instanceof a?i=(0,o.ev)((0,o.ev)([],(0,o.CR)(i)),(0,o.CR)(_.errors)):i.push(_)}}}catch(g){t={error:g}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(t)throw t.error}}}if(i)throw new a(i)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)d(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}},n.prototype._hasParent=function(n){var e=this._parentage;return e===n||Array.isArray(e)&&e.includes(n)},n.prototype._addParent=function(n){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n},n.prototype._removeParent=function(n){var e=this._parentage;e===n?this._parentage=null:Array.isArray(e)&&(0,i.P)(e,n)},n.prototype.remove=function(e){var t=this._teardowns;t&&(0,i.P)(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),c=s.EMPTY;function u(n){return n instanceof s||n&&"closed"in n&&(0,r.m)(n.remove)&&(0,r.m)(n.add)&&(0,r.m)(n.unsubscribe)}function d(n){(0,r.m)(n)?n():n.unsubscribe()}},7990:function(n,e,t){function o(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}t.d(e,{P:function(){return o}})},5589:function(n,e,t){function o(n){var e=function(n){Error.call(n),n.stack=(new Error).stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}t.d(e,{d:function(){return o}})},9126:function(n,e,t){function o(n){return"function"===typeof n}t.d(e,{m:function(){return o}})},5163:function(n,e,t){t.d(e,{ZT:function(){return r},XA:function(){return l},CR:function(){return a},ev:function(){return i}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var o=function(n,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},o(n,e)};function r(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}o(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}Object.create;function l(n){var e="function"===typeof Symbol&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&"number"===typeof n.length)return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(n,e){var t="function"===typeof Symbol&&n[Symbol.iterator];if(!t)return n;var o,r,l=t.call(n),a=[];try{while((void 0===e||e-- >0)&&!(o=l.next()).done)a.push(o.value)}catch(i){r={error:i}}finally{try{o&&!o.done&&(t=l["return"])&&t.call(l)}finally{if(r)throw r.error}}return a}function i(n,e,t){if(t||2===arguments.length)for(var o,r=0,l=e.length;r<l;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}Object.create},8928:function(n,e,t){t.r(e),t.d(e,{default:function(){return N}});var o=t(7875),r=t(349),l=function(n){return(0,o.dD)("data-v-8b42839a"),n=n(),(0,o.Cn)(),n},a=(0,o.Uk)("open1 - custom entry"),i=(0,o.Uk)(" | "),s=(0,o.Uk)("open2 - default entry"),c=l((function(){return(0,o._)("br",null,null,-1)})),u=l((function(){return(0,o._)("br",null,null,-1)})),d=l((function(){return(0,o._)("a",{href:"https://github.com/molgga/jood-v-modal/tree/master/packages/dev/src/components/demo-vue3/demo-default-entry",target:"_blank"},"demo code",-1)}));function f(n,e,t,l,f,p){var v=(0,o.up)("demo-button"),m=(0,o.up)("demo-panel"),y=(0,o.up)("demo-panel-devider"),h=(0,o.up)("demo-preview-code");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(m,{title:"open entryComponent"},{default:(0,o.w5)((function(){return[(0,o.Wm)(v,{onClick:n.onOpen1},{default:(0,o.w5)((function(){return[a]})),_:1},8,["onClick"]),i,(0,o.Wm)(v,{onClick:n.onOpen2},{default:(0,o.w5)((function(){return[s]})),_:1},8,["onClick"]),c,u,d]})),_:1}),(0,o.Wm)(y),(0,o.Wm)(m,{title:"open entryComponent"},{default:(0,o.w5)((function(){return[(0,o.Wm)(h,(0,r.vs)((0,o.F4)(n.Codes.Open)),null,16)]})),_:1}),(0,o.Wm)(y),(0,o.Wm)(m,{title:"sample CustomEntry.vue"},{default:(0,o.w5)((function(){return[(0,o.Wm)(h,(0,r.vs)((0,o.F4)(n.Codes.CustomSample)),null,16)]})),_:1})])}var p=t(3287),v=t(8251),m={Open:{title:"",description:"",lang:"typescript",code:"export default defineComponent({\n  setup() {\n    const modalService = useJdModalService();\n\n    const onOpen1 = () => {\n      modalService.open({\n        entryComponent: CustomModalEntry, // \n        component: SampleModal1,\n        overlayClose: true\n      });\n    };\n\n    const onOpen2 = () => {\n      modalService.open({\n        component: SampleModal2,\n        overlayClose: true\n      });\n    };\n\n    return { onOpen1, onOpen2 }\n  }\n});\n    "},CustomSample:{title:"",description:"",lang:"typescript",code:'<template>\n  <div\n    ref="refModalContainer"\n    class="custom-modal-entry"\n    :class="classes"\n    :style="styles.modal"\n    tabindex="0"\n  >\n    <div class="overlay" \n      :style="styles.overlay" \n      @click="onOverlayClick"\n      @touchmove="onOverlayTouchMove"></div>\n    <div class="panel" :style="styles.panel">\n      <div class="pivot" :style="styles.pivot">\n        <div class="def-head">\n          <h2 class="tit">{{ state.title }}</h2>\n          <button class="action-close" @click="onClose">X</button>\n        </div>\n        <div class="content">\n          <component :is="modalRef.component"></component>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang="ts">\nimport { defineComponent, onMounted, onUnmounted, reactive } from \'vue\';\nimport { JdModalRef, useJdModalEntrySetup } from \'@jood/v-modal\';\n\ninterface IProps {\n  index: number;\n  modalRef: JdModalRef;\n}\n\nexport default defineComponent({\n  name: \'CustomModalEntry\',\n  props: {\n    index: {\n      type: Number,\n      default: 0\n    },\n    modalRef: {\n      type: JdModalRef,\n      default: null\n    }\n  },\n  setup(props: IProps) {\n    const { modalRef } = props;\n    const {\n      mounted,\n      unmounted,\n      onOverlayClick,\n      onOverlayTouchMove,\n      refModalContainer,\n      classes,\n      styles\n    } = useJdModalEntrySetup({ modalRef });\n\n    const state = reactive({\n      title: modalRef.data?.title || \'\'\n    });\n\n    const onClose = () => {\n      modalRef.close();\n    };\n\n    onMounted(() => {\n      mounted();\n    });\n\n    onUnmounted(() => {\n      unmounted();\n    });\n\n    return {\n      state,\n      classes,\n      styles,\n      refModalContainer,\n      onOverlayClick,\n      onOverlayTouchMove,\n      onClose\n    };\n  }\n});\n<\/script>\n\n<style lang="scss" scoped>\n.custom-modal-entry {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  justify-content: center;\n  align-items: center;\n  pointer-events: initial;\n  > .overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 1);\n    transition: opacity 240ms;\n    opacity: 0;\n  }\n  > .panel {\n    position: relative;\n    display: flex;\n    max-height: 100%;\n    max-width: 100%;\n    box-sizing: border-box;\n    > .pivot {\n      display: flex;\n      flex-direction: column;\n      box-sizing: border-box;\n      background-color: #ffffff;\n      > .def-head {\n        display: flex;\n        padding: 5px;\n        align-items: center;\n        color: #ffffff;\n        background-color: #333333;\n        .tit {\n          flex: 1;\n          padding: 2px 10px;\n          font-size: 24px;\n          font-weight: 500;\n          color: #ffffff;\n        }\n        .action-close {\n          padding: 2px 10px;\n          font-size: 20px;\n          color: #ffffff;\n          cursor: pointer;\n        }\n      }\n      > .content {\n        position: relative;\n        padding: 15px;\n        overflow: auto;\n        box-sizing: border-box;\n      }\n    }\n  }\n  &.full-height {\n    > .panel {\n      height: 100%;\n    }\n  }\n}\n</style>\n'}},y={class:"def-head"},h={class:"tit"},b={class:"content"};function C(n,e,t,l,a,i){return(0,o.wg)(),(0,o.iD)("div",{ref:"refModalContainer",class:(0,r.C_)(["custom-modal-entry",n.classes]),style:(0,r.j5)(n.styles.modal),tabindex:"0"},[(0,o._)("div",{class:"overlay",style:(0,r.j5)(n.styles.overlay),onClick:e[0]||(e[0]=function(){return n.onOverlayClick&&n.onOverlayClick.apply(n,arguments)})},null,4),(0,o._)("div",{class:"panel",style:(0,r.j5)(n.styles.panel)},[(0,o._)("div",{class:"pivot",style:(0,r.j5)(n.styles.pivot)},[(0,o._)("div",y,[(0,o._)("h2",h,(0,r.zw)(n.state.title),1),(0,o._)("button",{class:"action-close",onClick:e[1]||(e[1]=function(){return n.onClose&&n.onClose.apply(n,arguments)})},"X")]),(0,o._)("div",b,[((0,o.wg)(),(0,o.j4)((0,o.LL)(n.modalRef.component)))])],4)],4)],6)}t(1245);var _=t(641),g=(0,o.aZ)({name:"CustomModalEntry",props:{index:{type:Number,default:0},modalRef:{type:v.JdModalRef,default:null}},setup:function(n){var e,t=n.modalRef,r=(0,v.useJdModalEntrySetup)({modalRef:t}),l=r.mounted,a=r.unmounted,i=r.onOverlayClick,s=r.refModalContainer,c=r.classes,u=r.styles,d=(0,_.qj)({title:(null===(e=t.data)||void 0===e?void 0:e.title)||""}),f=function(){t.close()};return(0,o.bv)((function(){l()})),(0,o.Ah)((function(){a()})),{state:d,classes:c,styles:u,refModalContainer:s,onOverlayClick:i,onClose:f}}}),w=t(4407);const x=(0,w.Z)(g,[["render",C],["__scopeId","data-v-3fa1280c"]]);var k=x,O={class:"sample-modal"};function M(n,e,t,r,l,a){return(0,o.wg)(),(0,o.iD)("div",O,"sample-modal1 component")}var S=(0,o.aZ)({setup:function(){return{}}});const R=(0,w.Z)(S,[["render",M],["__scopeId","data-v-c5f03742"]]);var j=R,A=function(n){return(0,o.dD)("data-v-cd2e92ce"),n=n(),(0,o.Cn)(),n},E={class:"sample-modal"},P=(0,o.Uk)("sample-modal2 component"),T=A((function(){return(0,o._)("br",null,null,-1)})),J=A((function(){return(0,o._)("br",null,null,-1)})),W=(0,o.Uk)("..."),Z=[P,T,J,W];function U(n,e,t,r,l,a){return(0,o.wg)(),(0,o.iD)("div",E,Z)}var D=(0,o.aZ)({setup:function(){return{}}});const z=(0,w.Z)(D,[["render",U],["__scopeId","data-v-cd2e92ce"]]);var I=z,X=(0,o.aZ)({setup:function(){var n=(0,v.useJdModalService)(),e=new p.w0,t=function(){n.open({entryComponent:k,component:j,data:{title:"Hello modal ~"},overlayClose:!0})},r=function(){n.open({component:I,overlayClose:!0})};return(0,o.Ah)((function(){e.unsubscribe(),n.closeAll(),n.resetDefaultEntryComponent()})),{Codes:m,onOpen1:t,onOpen2:r}}});const L=(0,w.Z)(X,[["render",f],["__scopeId","data-v-8b42839a"]]);var N=L}}]);