"use strict";(self["webpackChunkdev"]=self["webpackChunkdev"]||[]).push([[593],{3287:function(e,t,o){o.d(t,{Lc:function(){return c},w0:function(){return l},Nn:function(){return u}});var n=o(5163),r=o(9126),a=o(5589),i=(0,a.d)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),s=o(7990),l=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,o,a,s;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=(0,n.XA)(l),u=c.next();!u.done;u=c.next()){var p=u.value;p.remove(this)}}catch(b){e={error:b}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else l.remove(this);var f=this.initialTeardown;if((0,r.m)(f))try{f()}catch(g){s=g instanceof i?g.errors:[g]}var h=this._teardowns;if(h){this._teardowns=null;try{for(var v=(0,n.XA)(h),m=v.next();!m.done;m=v.next()){var y=m.value;try{d(y)}catch(w){s=null!==s&&void 0!==s?s:[],w instanceof i?s=(0,n.ev)((0,n.ev)([],(0,n.CR)(s)),(0,n.CR)(w.errors)):s.push(w)}}}catch(S){o={error:S}}finally{try{m&&!m.done&&(a=v.return)&&a.call(v)}finally{if(o)throw o.error}}}if(s)throw new i(s)}},e.prototype.add=function(t){var o;if(t&&t!==this)if(this.closed)d(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(o=this._teardowns)&&void 0!==o?o:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)},e.prototype.remove=function(t){var o=this._teardowns;o&&(0,s.P)(o,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),c=l.EMPTY;function u(e){return e instanceof l||e&&"closed"in e&&(0,r.m)(e.remove)&&(0,r.m)(e.add)&&(0,r.m)(e.unsubscribe)}function d(e){(0,r.m)(e)?e():e.unsubscribe()}},7990:function(e,t,o){function n(e,t){if(e){var o=e.indexOf(t);0<=o&&e.splice(o,1)}}o.d(t,{P:function(){return n}})},5589:function(e,t,o){function n(e){var t=function(e){Error.call(e),e.stack=(new Error).stack},o=e(t);return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}o.d(t,{d:function(){return n}})},9126:function(e,t,o){function n(e){return"function"===typeof e}o.d(t,{m:function(){return n}})},5163:function(e,t,o){o.d(t,{ZT:function(){return r},XA:function(){return a},CR:function(){return i},ev:function(){return s}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}Object.create;function a(e){var t="function"===typeof Symbol&&Symbol.iterator,o=t&&e[t],n=0;if(o)return o.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),i=[];try{while((void 0===t||t-- >0)&&!(n=a.next()).done)i.push(n.value)}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=a["return"])&&o.call(a)}finally{if(r)throw r.error}}return i}function s(e,t,o){if(o||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}Object.create},4593:function(e,t,o){o.r(t),o.d(t,{default:function(){return Et}});var n=o(7875);const r=e=>((0,n.dD)("data-v-297abe6a"),e=e(),(0,n.Cn)(),e),a=(0,n.Uk)("open"),i=r((()=>(0,n._)("br",null,null,-1))),s=r((()=>(0,n._)("br",null,null,-1))),l=r((()=>(0,n._)("a",{href:"https://github.com/molgga/jood-v-modal/tree/master/packages/dev/src/components/demo-vue3/demo-nested",target:"_blank"},"demo code",-1))),c=r((()=>(0,n._)("hr",{class:"partition"},null,-1)));function u(e,t,o,r,u,d){const p=(0,n.up)("demo-button"),f=(0,n.up)("demo-panel"),h=(0,n.up)("modal-options");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(f,{title:"Modal options & nested modal"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{onClick:e.onOpen},{default:(0,n.w5)((()=>[a])),_:1},8,["onClick"]),i,s,l])),_:1}),c,(0,n.Wm)(h,{modelValue:e.state.modalOptions,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state.modalOptions=t)},null,8,["modelValue"])])}var d=o(641),p=o(8251),f=o(349);var h,v,m=o(3287);o(1372);function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}(function(e){e[e["OPEN"]=0]="OPEN",e[e["OPENED"]=1]="OPENED",e[e["CLOSE"]=2]="CLOSE",e[e["CLOSED"]=3]="CLOSED"})(h||(h={})),function(e){e[e["NORMAL"]=0]="NORMAL",e[e["TOP_STACK"]=1]="TOP_STACK",e[e["RIGHT_STACK"]=2]="RIGHT_STACK",e[e["BOTTOM_STACK"]=3]="BOTTOM_STACK",e[e["LEFT_STACK"]=4]="LEFT_STACK"}(v||(v={}));var b=o(5163),g=o(9126),w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},S={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=S.delegate;return((null===o||void 0===o?void 0:o.setTimeout)||setTimeout).apply(void 0,(0,b.ev)([],(0,b.CR)(e)))},clearTimeout:function(e){var t=S.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function _(e){S.setTimeout((function(){var t=w.onUnhandledError;if(!t)throw e;t(e)}))}function x(){}var k=function(){return T("C",void 0,void 0)}();function C(e){return T("E",void 0,e)}function O(e){return T("N",e,void 0)}function T(e,t,o){return{kind:e,value:t,error:o}}var E=null;function M(e){if(w.useDeprecatedSynchronousErrorHandling){var t=!E;if(t&&(E={errorThrown:!1,error:null}),e(),t){var o=E,n=o.errorThrown,r=o.error;if(E=null,n)throw r}}else e()}function P(e){w.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=e)}var D=function(e){function t(t){var o=e.call(this)||this;return o.isStopped=!1,t?(o.destination=t,(0,m.Nn)(t)&&t.add(o)):o.destination=B,o}return(0,b.ZT)(t,e),t.create=function(e,t,o){return new A(e,t,o)},t.prototype.next=function(e){this.isStopped?N(O(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?N(C(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?N(k,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(m.w0),I=Function.prototype.bind;function j(e,t){return I.call(e,t)}var R=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(o){L(o)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(o){L(o)}else L(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){L(t)}},e}(),A=function(e){function t(t,o,n){var r,a,i=e.call(this)||this;(0,g.m)(t)||!t?r={next:null!==t&&void 0!==t?t:void 0,error:null!==o&&void 0!==o?o:void 0,complete:null!==n&&void 0!==n?n:void 0}:i&&w.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=function(){return i.unsubscribe()},r={next:t.next&&j(t.next,a),error:t.error&&j(t.error,a),complete:t.complete&&j(t.complete,a)}):r=t;return i.destination=new R(r),i}return(0,b.ZT)(t,e),t}(D);function L(e){w.useDeprecatedSynchronousErrorHandling?P(e):_(e)}function U(e){throw e}function N(e,t){var o=w.onStoppedNotification;o&&S.setTimeout((function(){return o(e,t)}))}var B={closed:!0,next:x,error:U,complete:x},V=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function H(e){return e}function F(e){return 0===e.length?H:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var Y=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var o=new e;return o.source=this,o.operator=t,o},e.prototype.subscribe=function(e,t,o){var n=this,r=W(e)?e:new A(e,t,o);return M((function(){var e=n,t=e.operator,o=e.source;r.add(t?t.call(r,o):o?n._subscribe(r):n._trySubscribe(r))})),r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var o=this;return t=Z(t),new t((function(t,n){var r=new A({next:function(t){try{e(t)}catch(o){n(o),r.unsubscribe()}},error:n,complete:t});o.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[V]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return F(e)(this)},e.prototype.toPromise=function(e){var t=this;return e=Z(e),new e((function(e,o){var n;t.subscribe((function(e){return n=e}),(function(e){return o(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function Z(e){var t;return null!==(t=null!==e&&void 0!==e?e:w.Promise)&&void 0!==t?t:Promise}function X(e){return e&&(0,g.m)(e.next)&&(0,g.m)(e.error)&&(0,g.m)(e.complete)}function W(e){return e&&e instanceof D||X(e)&&(0,m.Nn)(e)}var z=o(5589),J=(0,z.d)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),$=o(7990),K=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,b.ZT)(t,e),t.prototype.lift=function(e){var t=new q(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new J},t.prototype.next=function(e){var t=this;M((function(){var o,n;if(t._throwIfClosed(),!t.isStopped){var r=t.observers.slice();try{for(var a=(0,b.XA)(r),i=a.next();!i.done;i=a.next()){var s=i.value;s.next(e)}}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}}}))},t.prototype.error=function(e){var t=this;M((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;var o=t.observers;while(o.length)o.shift().error(e)}}))},t.prototype.complete=function(){var e=this;M((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;var t=e.observers;while(t.length)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,o=t.hasError,n=t.isStopped,r=t.observers;return o||n?m.Lc:(r.push(e),new m.w0((function(){return(0,$.P)(r,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,o=t.hasError,n=t.thrownError,r=t.isStopped;o?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new Y;return e.source=this,e},t.create=function(e,t){return new q(e,t)},t}(Y),q=function(e){function t(t,o){var n=e.call(this)||this;return n.destination=t,n.source=o,n}return(0,b.ZT)(t,e),t.prototype.next=function(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,e)},t.prototype.error=function(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==o?o:m.Lc},t}(K);class G{shadow(){return{pivot:{boxShadow:"0 0 8px rgba(0, 0, 0, 0.02), 0 3px 10px 1px rgba(0, 0, 0, 0.04), 0 6px 6px rgba(0, 0, 0, 0.06)"}}}base(e){const t=.85*(e||240);return{pivot:{transition:`transform ${e}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${t}ms`,transform:"scale(0.85, 0.85)",opacity:0}}}opening(){return{pivot:{transform:"scale(1, 1) translateY(0)",opacity:1},overlay:{opacity:.3}}}floatingOpening(){return[{pivot:{transform:"scale(0.9, 0.9) translateY(-10%)",opacity:1},overlay:{opacity:.05}},{pivot:{transform:"scale(0.95, 0.95) translateY(-5%)",opacity:1},overlay:{opacity:.2}},{pivot:{transform:"scale(1, 1) translateY(0)",opacity:1},overlay:{opacity:.3}}]}opened(){return{}}closing(){return{pivot:{transform:"scale(0.8, 0.8)",opacity:0},overlay:{opacity:0}}}}class Q{constructor(){y(this,"modalId",-1),y(this,"modalEntryComponent",void 0),y(this,"modalData",null),y(this,"modalResult",void 0),y(this,"modalComponent",null),y(this,"modalPanelStyle",void 0),y(this,"modalOpenStrategy",void 0),y(this,"modalTransitionDuration",240),y(this,"modalFloatingOpenMode",!1),y(this,"modalOverlayClose",!1),y(this,"modalDisableShadow",!1),y(this,"modalFullHeight",!1),y(this,"openerSubject",new K),y(this,"closedSubject",new K),y(this,"attachedBeforeLeave",!1),y(this,"modalPanelElement",void 0),this.modalOpenStrategy=new G}get id(){return this.modalId}get data(){return this.modalData}get panelStyle(){return this.modalPanelStyle}get component(){return this.modalComponent}get entryComponent(){return this.modalEntryComponent}get openStrategy(){return this.modalOpenStrategy}get duration(){return this.modalTransitionDuration}get overlayClose(){return this.modalOverlayClose}get floatingMode(){return this.modalFloatingOpenMode}get disableShadow(){return this.modalDisableShadow}get fullHeight(){return this.modalFullHeight}get panelElement(){return this.modalPanelElement}get opener(){return this.openerSubject}get isAttachedBeforeLeave(){return this.attachedBeforeLeave}assignModalData(e){this.setComponent(e.component),this.setOpenStrategy(e.openStrategy||new G),this.setOverlayClose(e.overlayClose||!1),this.setFloatingModel(e.floatingMode||!1),this.setFullHeight(e.fullHeight||!1),this.setDisableShadow(!!e.disableShadow),this.setDuration(e.duration||240),this.setData(e.data),this.setPanelStyle(e.panelStyle)}setId(e){this.modalId=e}setData(e){this.modalData=e||null}setPanelStyle(e){this.modalPanelStyle=e}setComponent(e){this.modalComponent=e}setEntryComponent(e){this.modalEntryComponent=e}setOpenStrategy(e){this.modalOpenStrategy=e}setDuration(e){this.modalTransitionDuration=e}setFloatingModel(e){this.modalFloatingOpenMode=!!e}setOverlayClose(e){this.modalOverlayClose=!!e}setDisableShadow(e){this.modalDisableShadow=!!e}setFullHeight(e){this.modalFullHeight=e}setPanelElement(e){this.modalPanelElement=e}attachBeforeLeave(){this.attachedBeforeLeave=!0}detachBeforeLeave(){this.attachedBeforeLeave=!1}close(e){this.modalResult=e,this.attachedBeforeLeave?history.back():this.openerSubject.next({type:h.CLOSE,modalRef:this})}closed(){this.openerSubject.next({type:h.CLOSED,modalRef:this}),this.closedSubject.next(this.modalResult)}observeOpener(){return this.openerSubject.asObservable()}observeClosed(){return this.closedSubject.asObservable()}destroy(){try{this.closed()}catch(e){console.log(e)}}}class ee{shadow(){return{pivot:{boxShadow:"10px 0 10px 2px rgba(0, 0, 0, 0.04), 3px 0 3px rgba(0, 0, 0, 0.02)"}}}base(e){const t=.85*(e||240);return{modal:{justifyContent:"flex-start",alignItems:"initial"},pivot:{transition:`transform ${e}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${t}ms`,transform:"translateX(-102%)",borderRadius:"0px"}}}opening(){return{pivot:{transform:"translateX(0%)"},overlay:{opacity:.3}}}floatingOpening(){return[{pivot:{transform:"translateX(8%)"},overlay:{opacity:.05}},{pivot:{transform:"translateX(4%)"},overlay:{opacity:.2}},{pivot:{transform:"translateX(0%)"},overlay:{opacity:.3}}]}opened(){return{}}closing(){return{pivot:{},overlay:{opacity:0}}}}class te{shadow(){return{pivot:{boxShadow:"-10px 0 10px 2px rgba(0, 0, 0, 0.04), -3px 0 3px rgba(0, 0, 0, 0.02)"}}}base(e){const t=.85*(e||240);return{modal:{justifyContent:"flex-end",alignItems:"initial"},pivot:{transition:`transform ${e}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${t}ms`,transform:"translateX(102%)",borderRadius:"0px"}}}opening(){return{pivot:{transform:"translateX(0%)"},overlay:{opacity:.3}}}floatingOpening(){return[{pivot:{transform:"translateX(-8%)"},overlay:{opacity:.05}},{pivot:{transform:"translateX(-4%)"},overlay:{opacity:.2}},{pivot:{transform:"translateX(0%)"},overlay:{opacity:.3}}]}opened(){return{}}closing(){return{pivot:{},overlay:{opacity:0}}}}class oe{shadow(){return{pivot:{boxShadow:"0 0 5px rgba(0, 0, 0, 0.02), 0 10px 10px 1px rgba(0, 0, 0, 0.04), 0 3px 3px rgba(0, 0, 0, 0.06)"}}}base(e){const t=.85*(e||240);return{modal:{justifyContent:"center",alignItems:"flex-start"},pivot:{transition:`transform ${e}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${t}ms`,transform:"translateY(-102%)",borderRadius:"0 0 10px 10px"}}}opening(){return{pivot:{transform:"translateY(0%)"},overlay:{opacity:.3}}}floatingOpening(){return[{pivot:{transform:"scale(0.94, 0.94) translateY(6%)"},overlay:{opacity:.05}},{pivot:{transform:"scale(0.97, 0.97) translateY(3%)"},overlay:{opacity:.2}},{pivot:{transform:"translateY(0%)"},overlay:{opacity:.3}}]}opened(){return{}}closing(){return{pivot:{},overlay:{opacity:0}}}}class ne{shadow(){return{pivot:{boxShadow:"0 0 5px rgba(0, 0, 0, 0.02), 0 -10px 10px 1px rgba(0, 0, 0, 0.04), 0 -3px 3px rgba(0, 0, 0, 0.06)"}}}base(e){const t=.85*(e||240);return{modal:{justifyContent:"center",alignItems:"flex-end"},pivot:{transition:`transform ${e}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${t}ms`,transform:"translateY(102%)",borderRadius:"10px 10px 0 0",marginTop:"20px"}}}opening(){return{pivot:{transform:"translateY(0%)"},overlay:{opacity:.3}}}floatingOpening(){return[{pivot:{transform:"scale(0.94, 0.94) translateY(-8%)"},overlay:{opacity:.05}},{pivot:{transform:"scale(0.97, 0.97) translateY(-4%)"},overlay:{opacity:.2}},{pivot:{transform:"translateY(0%)"},overlay:{opacity:.3}}]}opened(){return{}}closing(){return{pivot:{},overlay:{opacity:0}}}}function re(e,t){const{current:o}=ae(e),n={jdModal:{serviceId:e,before:o,current:t}};history.pushState(n,"")}function ae(e){return ie(e,history.state||{})}function ie(e,t){const{jdModal:o}=t,{serviceId:n=null,before:r=null,current:a=null}=o||{};return e===n?{serviceId:n,before:r,current:a}:{serviceId:null,before:null,current:null}}const se=Symbol(),le=Symbol(),ce=()=>{const e=(0,n.f3)(se);if(!e)throw new Error('not provide modalService. \n      append ModalProvider Component App root.\n      ex) <div id="app"> \x3c!-- root app --\x3e\n        <modal-provider /> \x3c!-- hear!! provider --\x3e\n        <your-some-component /> \x3c!-- no wrapping!! provider --\x3e\n      </div>');return e},ue=()=>{const e=ce();let t,o=null;const r=(0,d.Um)({modals:e.modals,emptied:!0}),a=(0,n.Fl)((()=>{const e=r.modals,t=!(!e||!e.length),o=r.emptied;return{"has-modal":t,"is-emptied":o}})),i=e=>{const{modals:t}=e,n=!(!t||!t.length);r.modals=t,clearTimeout(o),n?r.emptied=!1:o=setTimeout((()=>{r.emptied=!0}),140)},s=()=>{t=new m.w0;const o=e.observeModalState().subscribe(i);t.add(o)},l=()=>{t.unsubscribe(),e.destroy()};return{mounted:s,unmounted:l,classes:a,state:r}},de=e=>{const{modalRef:t}=e;(0,n.JJ)(le,t);const o=ce(),{openStrategy:r,duration:a,panelStyle:i,overlayClose:s=!1,floatingMode:l=!1,disableShadow:c=!1,fullHeight:u=!1}=t,p=o.usedHistoryState,f=o.usedBlockBodyScroll,v=(0,d.XI)(null),y=(0,d.XI)(null),b=isNaN(a)||a<0?240:a,g=(0,d.qj)({opening:!1,opened:!1,closing:!1,index:e.index||0,modalLength:o.modals.length});let w,S=null;const _=(0,n.Fl)((()=>({"is-opening":g.opening,"is-opened":g.opened,"is-closing":g.closing,"floating-mode":l,"full-height":u,shadow:!c}))),x=(0,n.Fl)((()=>{const{opening:e,opened:t,closing:o,index:n,modalLength:a}=g,s=r.base(b);if(i&&k(s,{pivot:i}),c||k(s,r.shadow()),e)if(l){const e=r.floatingOpening(),t=e.length,o=a<=n+1?t-1:Math.max(0,t-(a-n));k(s,e[o])}else k(s,r.opening());return t&&k(s,r.opened()),o&&k(s,r.closing()),s})),k=(e,t)=>{for(const o in t)e[o]=Object.assign(e[o]||{},t[o])},C=e=>{g.index=e},O=e=>{const{modals:t}=e;g.modalLength=t.length},T=e=>{e.type===h.OPENED?v&&v.value&&v.value.focus():e.type===h.CLOSE&&(p&&j(),g.opening=!1,g.opened=!1,g.closing=!0,S=setTimeout((()=>{t.closed()}),b))},E=e=>{s&&t.close()},M=e=>{f&&e.preventDefault()};let P=!1;const D=()=>{re(o.id,t.id),P=!0,window.addEventListener("popstate",I)},I=e=>{if(e._preventModalClose)return;if(!P)return;const n=o.isModalRefTop(t.id),{current:r}=ae(o.id);if(!n)return;let a=!1;r<t.id&&(a=!0),a&&t.close()},j=()=>{if(window.removeEventListener("popstate",I),!P)return;const{before:e,current:n}=ae(o.id);n===t.id&&history.back()},R=()=>{g.opening=!0,S=setTimeout(A,b)},A=()=>{p&&D(),g.opened=!0,t.opener.next({type:h.OPENED,modalRef:t})},L=()=>{y.value&&t.setPanelElement(y.value);const e=o.observeModalState().subscribe(O),n=t.observeOpener().subscribe(T);w=new m.w0,w.add(e),w.add(n),t.opener.next({type:h.OPEN,modalRef:t}),S=setTimeout(R,15)},U=()=>{clearTimeout(S),w.unsubscribe()};return{mounted:L,unmounted:U,setIndex:C,onOverlayClick:E,onOverlayTouchMove:M,refModalContainer:v,refModalPanel:y,classes:_,styles:x}};(0,n.aZ)({setup(){const{mounted:e,unmounted:t,classes:o,state:r}=ue();return(0,n.bv)((()=>{e()})),(0,n.Ah)((()=>{t()})),{classes:o,state:r}}});var pe=o(4407);(0,n.aZ)({name:"JdModalEntry",props:{index:{type:Number,default:0},modalRef:{type:Q,default:null}},setup(e){const{mounted:t,unmounted:o,setIndex:r,onOverlayClick:a,onOverlayTouchMove:i,refModalContainer:s,refModalPanel:l,classes:c,styles:u}=de({index:e.index,modalRef:e.modalRef});return(0,n.YP)((()=>e.index),(e=>r(e))),(0,n.bv)((()=>{t()})),(0,n.Ah)((()=>{o()})),{onOverlayClick:a,onOverlayTouchMove:i,refModalContainer:s,refModalPanel:l,classes:c,styles:u}}});var fe;(function(e){e[e["StackNormal"]=0]="StackNormal",e[e["StackLeft"]=1]="StackLeft",e[e["StackRight"]=2]="StackRight",e[e["StackTop"]=3]="StackTop",e[e["StackBottom"]=4]="StackBottom"})(fe||(fe={}));const he=(e={})=>({overlayClose:!0,floatingMode:!0,disableShadow:!1,fullHeight:!1,duration:240,openStrategy:fe.StackNormal,...e}),ve=e=>{let t;switch(e.openStrategy){case fe.StackNormal:t=new G;break;case fe.StackLeft:t=new ee;break;case fe.StackRight:t=new te;break;case fe.StackTop:t=new oe;break;case fe.StackBottom:t=new ne;break;default:break}const o={...e,openStrategy:t};return o};var me=o(4825);const ye=e=>((0,n.dD)("data-v-05268757"),e=e(),(0,n.Cn)(),e),be={class:"row-panel"},ge=ye((()=>(0,n._)("em",{class:"row-tit"},"openStrategy",-1))),we={class:"row-group"},Se={class:"row-group-label"},_e=["value"],xe={class:"label"},ke={class:"row-panel"},Ce=ye((()=>(0,n._)("em",{class:"row-tit"},"etc",-1))),Oe={class:"row-group"},Te={class:"row-box"},Ee=ye((()=>(0,n._)("span",{class:"label"},"overlayClose",-1))),Me={class:"row-box"},Pe=ye((()=>(0,n._)("span",{class:"label"},"floatingMode",-1))),De={class:"row-box"},Ie=ye((()=>(0,n._)("span",{class:"label"},"disableShadow",-1))),je={class:"row-box"},Re=ye((()=>(0,n._)("span",{class:"label"},"fullHeight",-1))),Ae={class:"row-box"},Le=ye((()=>(0,n._)("span",{class:"label"},"animate duration",-1)));function Ue(e,t,o,r,a,i){const s=(0,n.up)("demo-panel");return(0,n.wg)(),(0,n.j4)(s,{title:"Modal test options"},{default:(0,n.w5)((()=>[(0,n._)("div",be,[ge,(0,n._)("div",we,[(0,n._)("div",Se,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.optionOpenStrategy,(o=>((0,n.wg)(),(0,n.iD)("label",{key:o.value,class:"row-label"},[(0,n.wy)((0,n._)("input",{type:"radio",name:"openStrategy",value:o.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.modelValue.openStrategy=t)},null,8,_e),[[me.G2,e.modelValue.openStrategy]]),(0,n._)("span",xe,(0,f.zw)(o.label),1)])))),128))])])]),(0,n._)("div",ke,[Ce,(0,n._)("div",Oe,[(0,n._)("label",Te,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.modelValue.overlayClose=t)},null,512),[[me.e8,e.modelValue.overlayClose]]),Ee]),(0,n._)("label",Me,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.modelValue.floatingMode=t)},null,512),[[me.e8,e.modelValue.floatingMode]]),Pe]),(0,n._)("label",De,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=t=>e.modelValue.disableShadow=t)},null,512),[[me.e8,e.modelValue.disableShadow]]),Ie]),(0,n._)("label",je,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.modelValue.fullHeight=t)},null,512),[[me.e8,e.modelValue.fullHeight]]),Re]),(0,n._)("label",Ae,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=t=>e.modelValue.duration=t)},null,512),[[me.nr,e.modelValue.duration]]),Le])])])])),_:1})}var Ne=(0,n.aZ)({model:{prop:"value",event:"change"},props:{modelValue:{type:Object,default:()=>({})}},setup(e){const t=[{value:fe.StackNormal,label:"StackNormal"},{value:fe.StackLeft,label:"StackLeft"},{value:fe.StackRight,label:"StackRight"},{value:fe.StackTop,label:"StackTop"},{value:fe.StackBottom,label:"StackBottom"}];return{optionOpenStrategy:t}}});const Be=(0,pe.Z)(Ne,[["render",Ue],["__scopeId","data-v-05268757"]]);var Ve=Be;const He={class:"sample-modal"},Fe={class:"head"},Ye={class:"tit"},Ze={class:"foot"},Xe=(0,n.Uk)("history back"),We=(0,n.Uk)(" | "),ze=(0,n.Uk)("open"),Je=(0,n.Uk)(" | "),$e=(0,n.Uk)("close");function Ke(e,t,o,r,a,i){const s=(0,n.up)("demo-button");return(0,n.wg)(),(0,n.iD)("div",He,[(0,n._)("div",Fe,[(0,n._)("h2",Ye,"modalId: "+(0,f.zw)(e.state.modalId),1)]),(0,n._)("div",Ze,[(0,n.Wm)(s,{onClick:e.onBack},{default:(0,n.w5)((()=>[Xe])),_:1},8,["onClick"]),We,(0,n.Wm)(s,{onClick:e.onOpen},{default:(0,n.w5)((()=>[ze])),_:1},8,["onClick"]),Je,(0,n.Wm)(s,{onClick:e.onClose},{default:(0,n.w5)((()=>[$e])),_:1},8,["onClick"])])])}const qe={class:"sample-modal"},Ge={class:"head"},Qe={class:"tit"},et={class:"foot"},tt=(0,n.Uk)("history back"),ot=(0,n.Uk)(" | "),nt=(0,n.Uk)("open"),rt=(0,n.Uk)(" | "),at=(0,n.Uk)("close");function it(e,t,o,r,a,i){const s=(0,n.up)("demo-button");return(0,n.wg)(),(0,n.iD)("div",qe,[(0,n._)("div",Ge,[(0,n._)("h2",Qe,"modalId: "+(0,f.zw)(e.state.modalId),1)]),(0,n._)("div",et,[(0,n.Wm)(s,{onClick:e.onBack},{default:(0,n.w5)((()=>[tt])),_:1},8,["onClick"]),ot,(0,n.Wm)(s,{onClick:e.onOpen},{default:(0,n.w5)((()=>[nt])),_:1},8,["onClick"]),rt,(0,n.Wm)(s,{onClick:e.onClose},{default:(0,n.w5)((()=>[at])),_:1},8,["onClick"])])])}const st={class:"sample-modal"},lt={class:"head"},ct={class:"tit"},ut={class:"foot"},dt=(0,n.Uk)("history back"),pt=(0,n.Uk)(" | "),ft=(0,n.Uk)("open"),ht=(0,n.Uk)(" | "),vt=(0,n.Uk)("close");function mt(e,t,o,r,a,i){const s=(0,n.up)("demo-button");return(0,n.wg)(),(0,n.iD)("div",st,[(0,n._)("div",lt,[(0,n._)("h2",ct,"modalId: "+(0,f.zw)(e.state.modalId),1)]),(0,n._)("div",ut,[(0,n.Wm)(s,{onClick:e.onBack},{default:(0,n.w5)((()=>[dt])),_:1},8,["onClick"]),pt,(0,n.Wm)(s,{onClick:e.onOpen},{default:(0,n.w5)((()=>[ft])),_:1},8,["onClick"]),ht,(0,n.Wm)(s,{onClick:e.onClose},{default:(0,n.w5)((()=>[vt])),_:1},8,["onClick"])])])}var yt=(0,n.aZ)({setup(){const e=(0,p.useJdModalService)(),t=(0,p.useJdModalRef)(),o=t.data.modalOptions,r=new m.w0,a=(0,d.qj)({modalId:t.id}),i=()=>{const t=e.open({...o,data:{modalOptions:o},component:Ct}),n=t.observeClosed().subscribe(s);r.add(n)},s=e=>{console.log("onClosedResult",e)},l=()=>{t.close({result:Date.now()})},c=()=>{history.back()};return(0,n.Ah)((()=>{r.unsubscribe()})),{state:a,onOpen:i,onClose:l,onBack:c}}});const bt=(0,pe.Z)(yt,[["render",mt],["__scopeId","data-v-19b31f21"]]);var gt=bt,wt=(0,n.aZ)({setup(){const e=(0,p.useJdModalService)(),t=(0,p.useJdModalRef)(),o=t.data.modalOptions,r=new m.w0,a=(0,d.qj)({modalId:t.id}),i=()=>{const t=e.open({...o,data:{modalOptions:o},component:gt}),n=t.observeClosed().subscribe(s);r.add(n)},s=e=>{console.log("onClosedResult",e)},l=()=>{t.close({result:Date.now()})},c=()=>{history.back()};return(0,n.Ah)((()=>{r.unsubscribe()})),{state:a,onOpen:i,onClose:l,onBack:c}}});const St=(0,pe.Z)(wt,[["render",it],["__scopeId","data-v-02e58c80"]]);var _t=St,xt=(0,n.aZ)({setup(){const e=(0,p.useJdModalService)(),t=(0,p.useJdModalRef)(),o=t.data.modalOptions,r=new m.w0,a=(0,d.qj)({modalId:t.id}),i=()=>{const t=e.open({...o,data:{modalOptions:o},component:_t}),n=t.observeClosed().subscribe(s);r.add(n)},s=e=>{console.log("onClosedResult",e)},l=()=>{t.close({result:Date.now()})},c=()=>{history.back()};return(0,n.Ah)((()=>{r.unsubscribe()})),{state:a,onOpen:i,onClose:l,onBack:c}}});const kt=(0,pe.Z)(xt,[["render",Ke],["__scopeId","data-v-4a9c3390"]]);var Ct=kt,Ot=(0,n.aZ)({components:{ModalOptions:Ve},setup(){const e=(0,p.useJdModalService)(),t=(0,d.qj)({modalOptions:he()}),o=()=>{const o=ve(t.modalOptions);e.open({...o,data:{modalOptions:o},component:Ct})};return(0,n.Ah)((()=>{e.closeAll()})),{state:t,onOpen:o}}});const Tt=(0,pe.Z)(Ot,[["render",u],["__scopeId","data-v-297abe6a"]]);var Et=Tt}}]);