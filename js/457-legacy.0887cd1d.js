"use strict";(self["webpackChunkdev"]=self["webpackChunkdev"]||[]).push([[457],{6457:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var a=t(7875),o=function(e){return(0,a.dD)("data-v-a80cac08"),e=e(),(0,a.Cn)(),e},r=(0,a.Uk)("open"),u=o((function(){return(0,a._)("br",null,null,-1)})),c=o((function(){return(0,a._)("br",null,null,-1)})),i=o((function(){return(0,a._)("a",{href:"https://github.com/molgga/jood-v-modal/tree/master/packages/dev/src/components/demo-vue3/demo-before-leave",target:"_blank"},"demo code",-1)}));function d(e,n,t,o,d,l){var s=(0,a.up)("demo-button"),f=(0,a.up)("demo-panel");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(f,{title:"Before leave"},{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{onClick:e.onOpen},{default:(0,a.w5)((function(){return[r]})),_:1},8,["onClick"]),u,c,i]})),_:1})])}var l=t(8251),s=t(4825),f=function(e){return(0,a.dD)("data-v-4daf71d6"),e=e(),(0,a.Cn)(),e},v={class:"sample-modal"},p=f((function(){return(0,a._)("div",{class:"head"},[(0,a._)("h2",{class:"tit"},"SampleBeforeLeave")],-1)})),h={class:"body"},m=(0,a.Uk)(" isChanged "),g={key:0,class:"desc"},C={class:"foot"},k=(0,a.Uk)(" history back ");function b(e,n,t,o,r,u){var c=(0,a.up)("demo-button");return(0,a.wg)(),(0,a.iD)("div",v,[p,(0,a._)("div",h,[(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":n[0]||(n[0]=function(n){return e.state.isChanged=n}),onChange:n[1]||(n[1]=function(){return e.onChange&&e.onChange.apply(e,arguments)})},null,544),[[s.e8,e.state.isChanged]]),m]),e.state.isChanged?((0,a.wg)(),(0,a.iD)("div",g," confirm before leave ")):(0,a.kq)("",!0)]),(0,a._)("div",C,[(0,a._)("div",null,[(0,a.Wm)(c,{color:e.state.isChanged?"danger":"#f0f0f0",onClick:e.onBack},{default:(0,a.w5)((function(){return[k]})),_:1},8,["color","onClick"])])])])}var _=t(6706),w=(t(5047),t(8188),t(641)),B=(0,a.aZ)({setup:function(){var e=(0,l.useJdModalBeforeLeave)(),n=e.attachBeforeLeave,t=e.detachBeforeLeave,o=e.setBeforeLeaveConfirm,r=e.setBeforeLeaveValidate,u=(0,w.qj)({isChanged:!0});r((function(){return console.log("setBeforeLeaveValidate"),!u.isChanged})),o((0,_.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("setBeforeLeaveConfirm"),e.abrupt("return",new Promise((function(e){e(confirm("back?"))})));case 2:case"end":return e.stop()}}),e)}))));var c=function(){history.back()},i=function(){t(),u.isChanged&&n()};return(0,a.bv)((function(){n()})),(0,a.Ah)((function(){t()})),{state:u,onChange:i,onBack:c}}}),y=t(4407);const L=(0,y.Z)(B,[["render",b],["__scopeId","data-v-4daf71d6"]]);var D=L,Z=(0,a.aZ)({setup:function(){var e=(0,l.useJdModalService)(),n=function(){e.open({component:D,overlayClose:!0})};return{onOpen:n}}});const U=(0,y.Z)(Z,[["render",d],["__scopeId","data-v-a80cac08"]]);var V=U}}]);